{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_1 = __importDefault(require(\"react\"));\n\nconst library_1 = require(\"@zxing/library\");\n\nconst react_webcam_1 = __importDefault(require(\"react-webcam\"));\n\nconst BarcodeScannerComponent = ({\n  width,\n  height,\n  onUpdate\n}) => {\n  const webcamRef = react_1.default.useRef(null);\n  const codeReader = new library_1.BrowserMultiFormatReader();\n  const capture = react_1.default.useCallback(() => {\n    var _a;\n\n    const imageSrc = (_a = webcamRef === null || webcamRef === void 0 ? void 0 : webcamRef.current) === null || _a === void 0 ? void 0 : _a.getScreenshot();\n\n    if (imageSrc) {\n      codeReader.decodeFromImage(undefined, imageSrc).then(result => {\n        onUpdate(null, result);\n      }).catch(err => {\n        onUpdate(err);\n      });\n    }\n  }, [codeReader, onUpdate]);\n  react_1.default.useEffect(() => {\n    setInterval(capture, 100);\n  });\n  return react_1.default.createElement(react_webcam_1.default, {\n    width: width,\n    height: height,\n    ref: webcamRef,\n    screenshotFormat: \"image/png\",\n    videoConstraints: {\n      facingMode: 'environment'\n    }\n  });\n};\n\nexports.default = BarcodeScannerComponent;","map":{"version":3,"sources":["/Users/viridianajimenez/MyMac/Desktop/Reacionar/my_alacena/client/node_modules/react-webcam-barcode-scanner/dist/BarcodeScannerComponent.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","react_1","require","library_1","react_webcam_1","BarcodeScannerComponent","width","height","onUpdate","webcamRef","default","useRef","codeReader","BrowserMultiFormatReader","capture","useCallback","_a","imageSrc","current","getScreenshot","decodeFromImage","undefined","then","result","catch","err","useEffect","setInterval","createElement","ref","screenshotFormat","videoConstraints","facingMode"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,OAAO,GAAGP,eAAe,CAACQ,OAAO,CAAC,OAAD,CAAR,CAA/B;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,gBAAD,CAAzB;;AACA,MAAME,cAAc,GAAGV,eAAe,CAACQ,OAAO,CAAC,cAAD,CAAR,CAAtC;;AACA,MAAMG,uBAAuB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,MAAT;AAAiBC,EAAAA;AAAjB,CAAD,KAAiC;AAC7D,QAAMC,SAAS,GAAGR,OAAO,CAACS,OAAR,CAAgBC,MAAhB,CAAuB,IAAvB,CAAlB;AACA,QAAMC,UAAU,GAAG,IAAIT,SAAS,CAACU,wBAAd,EAAnB;AACA,QAAMC,OAAO,GAAGb,OAAO,CAACS,OAAR,CAAgBK,WAAhB,CAA4B,MAAM;AAC9C,QAAIC,EAAJ;;AACA,UAAMC,QAAQ,GAAG,CAACD,EAAE,GAAGP,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACS,OAAtE,MAAmF,IAAnF,IAA2FF,EAAE,KAAK,KAAK,CAAvG,GAA2G,KAAK,CAAhH,GAAoHA,EAAE,CAACG,aAAH,EAArI;;AACA,QAAIF,QAAJ,EAAc;AACVL,MAAAA,UAAU,CAACQ,eAAX,CAA2BC,SAA3B,EAAsCJ,QAAtC,EAAgDK,IAAhD,CAAqDC,MAAM,IAAI;AAC3Df,QAAAA,QAAQ,CAAC,IAAD,EAAOe,MAAP,CAAR;AACH,OAFD,EAEGC,KAFH,CAEUC,GAAD,IAAS;AACdjB,QAAAA,QAAQ,CAACiB,GAAD,CAAR;AACH,OAJD;AAKH;AACJ,GAVe,EAUb,CAACb,UAAD,EAAaJ,QAAb,CAVa,CAAhB;AAWAP,EAAAA,OAAO,CAACS,OAAR,CAAgBgB,SAAhB,CAA0B,MAAM;AAC5BC,IAAAA,WAAW,CAACb,OAAD,EAAU,GAAV,CAAX;AACH,GAFD;AAGA,SAAQb,OAAO,CAACS,OAAR,CAAgBkB,aAAhB,CAA8BxB,cAAc,CAACM,OAA7C,EAAsD;AAAEJ,IAAAA,KAAK,EAAEA,KAAT;AAAgBC,IAAAA,MAAM,EAAEA,MAAxB;AAAgCsB,IAAAA,GAAG,EAAEpB,SAArC;AAAgDqB,IAAAA,gBAAgB,EAAE,WAAlE;AAA+EC,IAAAA,gBAAgB,EAAE;AACvJC,MAAAA,UAAU,EAAE;AAD2I;AAAjG,GAAtD,CAAR;AAGH,CApBD;;AAqBAjC,OAAO,CAACW,OAAR,GAAkBL,uBAAlB","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst library_1 = require(\"@zxing/library\");\nconst react_webcam_1 = __importDefault(require(\"react-webcam\"));\nconst BarcodeScannerComponent = ({ width, height, onUpdate }) => {\n    const webcamRef = react_1.default.useRef(null);\n    const codeReader = new library_1.BrowserMultiFormatReader();\n    const capture = react_1.default.useCallback(() => {\n        var _a;\n        const imageSrc = (_a = webcamRef === null || webcamRef === void 0 ? void 0 : webcamRef.current) === null || _a === void 0 ? void 0 : _a.getScreenshot();\n        if (imageSrc) {\n            codeReader.decodeFromImage(undefined, imageSrc).then(result => {\n                onUpdate(null, result);\n            }).catch((err) => {\n                onUpdate(err);\n            });\n        }\n    }, [codeReader, onUpdate]);\n    react_1.default.useEffect(() => {\n        setInterval(capture, 100);\n    });\n    return (react_1.default.createElement(react_webcam_1.default, { width: width, height: height, ref: webcamRef, screenshotFormat: \"image/png\", videoConstraints: {\n            facingMode: 'environment'\n        } }));\n};\nexports.default = BarcodeScannerComponent;\n"]},"metadata":{},"sourceType":"script"}